!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("api-count",["exports","@angular/core","rxjs","@angular/common/http","rxjs/operators"],t):t((e=e||self)["api-count"]={},e.ng.core,e.rxjs,e.ng.common.http,e.rxjs.operators)}(this,(function(e,t,o,r,n){"use strict";var i=function(){function e(){this.apiCount=0,this.api=new o.BehaviorSubject(this.apiCount),this.apiCountObservable=this.api.asObservable()}return e.prototype.addAPI=function(){this.apiCount+=1,this.api.next(this.apiCount),console.log("Ongoing API count "+this.apiCount)},e.prototype.removeAPI=function(){this.apiCount-=1,this.api.next(this.apiCount),console.log("Ongoing API count "+this.apiCount)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}();var a=function(){function e(e){this.injector=e}return e.prototype.intercept=function(e,t){var a=this.injector.get(i),s=e.clone({});return a.addAPI(),t.handle(s).pipe(n.map((function(e){return e instanceof r.HttpResponse&&a.removeAPI(),e})),n.catchError((function(e){return{reason:e&&e.error&&e.error.reason?e.error.reason:"",status:e.status},a.removeAPI(),o.throwError(e)})))},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:t.Injector}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(t.INJECTOR))},token:e,providedIn:"root"}),e}();var s=[{provide:r.HTTP_INTERCEPTORS,useClass:a,multi:!0}],u=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[],imports:[],providers:[s],exports:[]}]}],e}();e.ApiCountModule=u,e.LoaderService=i,e.ɵa=a,e.ɵb=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=api-count.umd.min.js.map